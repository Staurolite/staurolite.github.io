<!DOCTYPE html>
<html lang="en">
<head>
  <title>Git 常用命令 | Firefly</title>
  <meta charset="utf-8">
<meta name="description" content="Git 常用命令整理与总结"><meta name="author" content="Matmul">  <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
  <meta http-equiv="Cache-Control" content="max-age=604800, must-revalidate" />
  <link href="/theme/css/screen.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link href="/" type="application/atom+xml" rel="alternate" title="Firefly ATOM Feed" />
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
  <div class="logo"><a href="/index.html">Firefly</a></div>
  <div class="small"></div>
    <div class="nav">
  <li><a href="/archives/">Archive</a></li>
  <li><a href="/about/">About</a></li>
    </div>
</div>    <div id="main">
<h2><a href="/basic-git-commands.html">Git 常用命令</a></h2>
<h5><i class="icon-feather"></i> Mon 31 August 2015
<i class="icon-bookmarks"></i>
<span><a href="/tag/git.html">git</a> / </span>
</h5>

<p><img alt="git" src="https://git-scm.com/images/logo@2x.png" /></p>
<h3>推送</h3>
<ul>
<li><strong>初始化仓库</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git init
</pre></div>


<ul>
<li><strong>添加到暂存区</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git add &lt;file&gt;
</pre></div>


<blockquote>
<p>file：为文件名，下同</p>
</blockquote>
<ul>
<li><strong>推送至版本库</strong> </li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git commit -m &lt;<span class="s2">&quot;message&quot;</span>&gt;
</pre></div>


<blockquote>
<p>"message"：为版本信息说明</p>
</blockquote>
<ul>
<li><strong>重设版本库到工作区</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git reset --hard <span class="o">[</span>commit_id<span class="o">]</span>
</pre></div>


<blockquote>
<p>commit_id：版本号</p>
</blockquote>
<ul>
<li><strong>重设版本库到暂存区</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git reset --soft <span class="o">[</span>commit_id<span class="o">]</span>
</pre></div>


<ul>
<li><strong>覆盖暂存区到工作区</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git checkout -- &lt;file&gt;
</pre></div>


<ul>
<li><strong>覆盖版本库到工作区</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git checkout HEAD &lt;file&gt;
</pre></div>


<ul>
<li><strong>删除暂存区文件</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git rm &lt;file&gt;
</pre></div>


<ul>
<li><strong>查看工作区与暂存区不同</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git diff &lt;file&gt;
</pre></div>


<ul>
<li><strong>查看工作区与版本库文不同</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git diff HEAD -- &lt;file&gt;
</pre></div>


<ul>
<li><strong>查看当前工作区情况</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git status
</pre></div>


<ul>
<li><strong>查看本次推送历史</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git log <span class="o">[</span>--graph<span class="o">]</span> <span class="o">[</span>--pretty<span class="o">=</span>oneline<span class="o">]</span> <span class="o">[</span>--abbrev-commit<span class="o">]</span>
</pre></div>


<blockquote>
<p>--graph：图像显示；<br />
--pretty=oneline：显示单行信息；<br />
--abbrev-commit：简化版本号  </p>
</blockquote>
<ul>
<li><strong>查看所有历史记录</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git reflog
</pre></div>


<hr />
<h3>分支</h3>
<ul>
<li><strong>创建分支</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git branch &lt;branch&gt;
</pre></div>


<blockquote>
<p>branch：为分支名称</p>
</blockquote>
<ul>
<li><strong>删除分支</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git branch -d &lt;branch&gt;
</pre></div>


<ul>
<li><strong>进入分支</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git checkout &lt;branch&gt;
</pre></div>


<ul>
<li><strong>创建分支并进入</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git checkout -b &lt;branch&gt;
</pre></div>


<ul>
<li><strong>合并分支</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git merge &lt;branch&gt;
</pre></div>


<blockquote>
<p>快进模式</p>
</blockquote>
<ul>
<li><strong>合并分支</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git merge --no-ff -m &lt;<span class="s2">&quot;message&quot;</span>&gt; &lt;branch&gt;
</pre></div>


<blockquote>
<p>取消快进模式，创建新的推送</p>
</blockquote>
<hr />
<h3>存档</h3>
<ul>
<li><strong>工作区存档</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git stash
</pre></div>


<ul>
<li><strong>显示存档</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git stash list
</pre></div>


<ul>
<li><strong>恢复存档后丢弃</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git stash pop <span class="o">[</span>stash_id<span class="o">]</span>
</pre></div>


<blockquote>
<p>stash_id：存档标识，下同</p>
</blockquote>
<ul>
<li><strong>恢复存档</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git stash apply <span class="o">[</span>stash_id<span class="o">]</span>
</pre></div>


<ul>
<li><strong>丢弃存档</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git stash drop
</pre></div>


<hr />
<h3>远端</h3>
<ul>
<li><strong>添加远端，并与本地对接</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git remote add origin &lt;url&gt;
</pre></div>


<blockquote>
<p>url：远端地址</p>
</blockquote>
<ul>
<li><strong>推送至远端</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git push <span class="o">[</span>-u<span class="o">]</span> &lt;remote&gt; &lt;branch&gt;
</pre></div>


<blockquote>
<p>-u：第一次推送，远端与本地对接；
remote：远端库名，一般为origin，下同；
branch：本地分支</p>
</blockquote>
<ul>
<li><strong>远端抓取</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git pull
</pre></div>


<ul>
<li><strong>查看远端情况</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git remote <span class="o">[</span>-v<span class="o">]</span>
</pre></div>


<blockquote>
<p>-v：显示详情</p>
</blockquote>
<ul>
<li><strong>远端创建分支，并推送本地</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git checkout -b &lt;branch&gt; &lt;remote&gt;/&lt;branch&gt;
</pre></div>


<ul>
<li><strong>本地分支与远端对接</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git branch --set-upstream &lt;branch&gt; &lt;remote&gt;/&lt;branch&gt;
</pre></div>


<ul>
<li><strong>重设远端地址</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git remote <span class="nb">set</span>-url &lt;remote&gt; &lt;url2&gt;
</pre></div>


<blockquote>
<p>url2：https 和 ssh 地址切换</p>
</blockquote>
<ul>
<li><strong>克隆远端</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git clone &lt;url&gt;
</pre></div>


<hr />
<h3>标签</h3>
<ul>
<li><strong>创建标签</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git tag &lt;tag_name&gt;
</pre></div>


<blockquote>
<p>tag_name：标签名称，下同</p>
</blockquote>
<ul>
<li><strong>创建标签，并产生推送</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git tag <span class="o">[</span>-a<span class="o">]</span> &lt;tag_name&gt; <span class="o">[</span>-m<span class="o">]</span> <span class="o">[</span><span class="s2">&quot;message&quot;</span><span class="o">]</span> &lt;commit_id&gt;
</pre></div>


<ul>
<li><strong>创建带私钥标签</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git tag <span class="o">[</span>-s<span class="o">]</span> &lt;tag_name&gt; <span class="o">[</span>-m<span class="o">]</span> <span class="o">[</span><span class="s2">&quot;message&quot;</span><span class="o">]</span> &lt;commit_id&gt;
</pre></div>


<ul>
<li><strong>删除标签</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git tag -d &lt;tag_name&gt;
</pre></div>


<ul>
<li><strong>查看标签</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git tag
</pre></div>


<ul>
<li><strong>显示标签具体信息</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git show &lt;tag_name&gt;
</pre></div>


<ul>
<li><strong>推送标签到远端</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git push &lt;remote&gt; &lt;tag_name&gt;
</pre></div>


<ul>
<li><strong>推送所有标签到远端</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git push &lt;remote&gt; --tags
</pre></div>


<ul>
<li><strong>删除远端标签</strong></li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>git push &lt;remote&gt; :refs/tags/&lt;tag_name&gt;
</pre></div>


<hr />
<h3>设置</h3>
<ul>
<li><strong>设置用户</strong></li>
</ul>
<div class="highlight"><pre>git config user.name &quot;&lt;name&gt;&quot;
git config user.email &quot;&lt;email&gt;&quot;
git config --list
</pre></div>


<blockquote>
<p>name：用户名；<br />
email：用户邮箱名  </p>
</blockquote>
<ul>
<li><strong>设置别名</strong></li>
</ul>
<div class="highlight"><pre>git config --global alias.&lt;alias&gt; &lt;command&gt;
</pre></div>


<blockquote>
<p>alias：个性化别名；<br />
command：需要创建别名的命令</p>
</blockquote>
<hr />
<h3>参考资料</h3>
<ul>
<li><a href="https://git-scm.com/doc">Git 官方文档</a></li>
<li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰 Git教程</a></li>
</ul>

<p align="center"><a href="#">on the top</a></p>
<h3>Comments</h3>
<div id="disqus_thread">
    <script type="text/javascript">
       var disqus_identifier = "basic-git-commands.html";
       (function() {
       var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
       dsq.src = 'http://matmul.disqus.com/embed.js';
       (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
</div>    </div>
</div>
<div id="footer-wrapper">
<ul class="footer">
     <li class="footer"><a href="/tag/crypto.html">Crypto&nbsp;&bull;&nbsp;</a></li>
     <li class="footer"><a href="/tag/git.html">git&nbsp;&bull;&nbsp;</a></li>
     <li class="footer"><a href="/tag/life.html">life</a></li>
</ul><ul class="footer">
    <li class="footer">&copy;&nbsp;2014&nbsp;::</li>
    <li class="footer"><a href="">Firefly </a>&nbsp;::</li>
    <li class="footer">powered by <a href="https://github.com/getpelican">pelican</a>&nbsp;::</li>
    <li class="footer"><a href="http://creativecommons.org/licenses/by-nc/3.0/deed.ru">CC BY-NC</a></li>
</ul>
</div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67030407-1', '');
  ga('send', 'pageview');

</script>
</body>
</html>